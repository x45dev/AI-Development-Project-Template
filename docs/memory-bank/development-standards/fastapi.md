---
description: FastAPI best practices and patterns for building modern Python Web APIs
globs: ["**/*.py", "app/**/*.py", "api/**/*.py"]
---
# FastAPI Best Practices

## Project Structure
- Use the correct directory structure
- Implement correct module organization
- Use correct dependency injection
- Organize routes by domain
- Implement correct middleware
- Use correct configuration management

## API Design
- Use the correct HTTP methods
- Implement correct status codes
- Use correct request/response models
- Implement correct validation
- Use correct error handling
- Document the API with OpenAPI

## Models
- Use Pydantic models
- Implement correct validation
- Use correct type hints
- Keep models well-organized
- Use correct inheritance
- Implement correct serialization

## Database
- Use the correct ORM (SQLAlchemy)
- Implement correct migrations
- Use the correct connection pool
- Implement correct transactions
- Use correct query optimization
- Handle database errors correctly

## Authentication
- Implement correct JWT authentication
- Use correct password hashing
- Implement correct role-based access control
- Use correct session management
- Implement correct OAuth2
- Handle authentication errors correctly

## Security
- Implement correct CORS
- Use correct rate limiting
- Implement correct input validation
- Use correct security headers
- Handle security errors correctly
- Implement correct logging

## Performance
- Use correct caching
- Implement correct asynchronous operations
- Use correct background tasks
- Implement correct connection pooling
- Use correct query optimization
- Monitor performance metrics

## Testing
- Write correct unit tests
- Implement correct integration tests
- Use correct test fixtures
- Implement correct mocking
- Test error scenarios
- Use correct test coverage

## Deployment
- Use the correct Docker configuration
- Implement correct CI/CD
- Use the correct environment variables
- Implement correct logging
- Use correct monitoring
- Handle deployment errors correctly

## Documentation
- Use correct docstrings
- Implement correct API documentation
- Use correct type hints
- Keep documentation up-to-date
- Document error scenarios
- Use correct version control
