# Database Best Practices

---
*description: Database best practices, with a focus on Prisma and Supabase integration*
*globs: ["prisma/**/ *, src/db/**/ *, ** /*.prisma, supabase/**/ *"]
---

## Prisma Setup
- Use correct schema design
- Implement correct migrations
- Use correct relation definitions
- Configure correct connections
- Implement correct data seeding
- Use correct client settings

## Prisma Models
- Use correct model naming
- Implement correct relations
- Use correct field types
- Define correct indexes
- Implement correct constraints
- Use correct enums

## Prisma Queries
- Use correct query optimization
- Implement correct filtering
- Use correct relation loading
- Handle transactions correctly
- Implement correct pagination
- Use correct aggregation

## Supabase Setup
- Configure correct project settings
- Implement correct authentication
- Use correct database settings
- Configure correct storage
- Implement correct policies
- Use correct client settings

## Supabase Security
- Implement correct RLS (Row-Level Security) policies
- Use correct authentication
- Configure correct permissions
- Handle sensitive data correctly
- Implement correct backups
- Use correct encryption

## Supabase Queries
- Use correct query optimization
- Implement correct filtering
- Use correct joins
- Handle real-time data correctly
- Implement correct pagination
- Use correct functions

## Database Design
- Use correct normalization
- Implement correct indexing
- Use correct constraints
- Define correct relations
- Implement correct cascade operations
- Use correct data types

## Performance
- Use correct connection pooling
- Implement correct caching
- Use correct query optimization
- Correctly handle N+1 query problems
- Implement correct batch processing
- Monitor performance metrics

## Security
- Use correct authentication
- Implement correct authorization
- Handle sensitive data correctly
- Use correct encryption
- Implement correct backups
- Monitor security issues

## Best Practices
- Follow database conventions
- Use correct migrations
- Implement correct version control
- Handle errors correctly
- Document the schema correctly
- Monitor database health
